<section id="stack" class="stack">
  <component-layer
    v-for="layer in layerSize"></component-layer>
</section>

<script id="template-layer" type="text/template">
  <div class="layer">
    <div class="layer-preview-wrapper">
      <canvas class="layer-preview"></canvas>
      <input type="text" v-el:seekbar-factory />
    </div>
    <div class="opacity-selector-wrapper">
      <div class="dropdown blend-mode-selector">
        <button data-toggle="dropdown" class="trigger">{{blendModesSet[blendMode].short}}</button>
        <ul class="dropdown-menu">
          <li v-for="mode in blendModesSet">
            <a v-bind:class="{ selected: blendMode === $key }" class="item" href="#" v-on:click="blendMode = $key">
              <i class="fa-fw fa fa-check"></i> {{mode.name}}
            </a>
          </li>
        </ul>
      </div>
      <input type="text" v-el:opacity-selector-factory />
    </div>
    <div class="speed-adjuster">
      <div class="speed-adjuster-label">SPEED ADJUSTER</div>
      <div class="mode-switcher">
        <div
            v-for="mode in speedAdjustModesSet"
            v-bind:class="{active: speedAdjustMode === $key}"
            v-on:mousedown="speedAdjustMode = $key"
            class="switch">{{mode | uppercase}}</div>
      </div>
      <div class="value-selector">
        <div class="transformer down">/2</div>
        <div class="value-input-wrapper">
          <input
              type="number"
              inputmode="numeric"
              v-bind:min="speedValueMin[speedAdjustMode]"
              v-bind:step="speedValueStep[speedAdjustMode]"
              v-bind:max="speedValueMax[speedAdjustMode]"
              v-model="speedValue[speedAdjustMode]"
              class="value-input">
        </div>
        <div class="transformer up">*2</div>
      </div>
    </div>
    <div class="lr-selector">
      <div class="lr-selector-label">L / R</div>
      <div class="left"
           v-bind:class="{active: lrPosition === 'L'}"
           v-on:mousedown="lrPosition = (lrPosition !== 'L') ? 'L' : 'N'">
        <i class="fa fa-chevron-circle-left"></i>
      </div>
      <div class="right"
           v-bind:class="{active: lrPosition === 'R'}"
           v-on:mousedown="lrPosition = (lrPosition !== 'R') ? 'R' : 'N'">
        <i class="fa fa-chevron-circle-right"></i>
      </div>
    </div>
    <div class="display-behavior-selector">
      <div class="display-behavior-selector-label">DISP.</div>
      <div class="solo">Solo</div>
      <div class="mute">Mute</div>
    </div>
    <div class="deck-selector">
      <div class="deck-selector-label">DECK</div>
      <div class="a">A</div>
      <div class="b">B</div>
    </div>
  </div>
</script>
